
#include "ctest.h"

#include "move.h"
/*----------------------------KING----------------------------*/
/*----------------------------Black----------------------------*/
CTEST(king, black_angle)
{
    char board[8][8] = {{'k', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'}};
    // struct step_white figure = {"1", 'k', "a8", "b7", '-', ' '};

    ASSERT_EQUAL(1, KingTest(board, 0, 0, 1, 1, 0, 0));
}

CTEST(king, black_edge)
{
    char board[8][8] = {{'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'k', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'}};
    // struct step_white figure = {"1", 'k', "a5", "b4", '-', ' '};
    ASSERT_EQUAL(1, KingTest(board, 3, 0, 4, 1, 0, 0));
}

CTEST(king, black_center)
{
    char board[8][8] = {{'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', 'k', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'}};
    // struct step_white figure = {"1", 'k', "c5", "b5", '-', ' '};
    ASSERT_EQUAL(1, KingTest(board, 3, 2, 3, 1, 0, 0));
}

CTEST(king, black_take)
{
    char board[8][8] = {{'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', 'P', '.', '.', '.'},
                        {'.', '.', '.', 'k', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'}};
    // struct step_white figure = {"1", 'k', "d5", "e6", 'x', ' '};
    ASSERT_EQUAL(1, KingTest(board, 3, 3, 2, 4, 1, 0));
}

CTEST(king, black_wrong_take)
{
    char board[8][8] = {{'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', 'p', '.', '.', '.'},
                        {'.', '.', '.', 'k', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'}};
    // struct step_white figure = {"1", 'k', "d5", "e6", 'x', ' '};
    ASSERT_EQUAL(2, KingTest(board, 3, 3, 2, 4, 1, 0));
}

CTEST(king, black_let)
{
    char board[8][8] = {{'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', 'P', '.', '.', '.'},
                        {'.', '.', '.', 'k', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'}};
    // struct step_white figure = {"1", 'k', "d5", "e6", '-', ' '};
    ASSERT_EQUAL(2, KingTest(board, 3, 3, 2, 4, 0, 0));
}

CTEST(king, black_wrong_move)
{
    char board[8][8] = {{'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', 'P', '.', '.', '.'},
                        {'.', '.', '.', 'k', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'}};
    // struct step_white figure = {"1", 'k', "d5", "f7", '-', ' '};
    ASSERT_EQUAL(0, KingTest(board, 3, 3, 1, 5, 1, 0));
}
/*----------------------------White----------------------------*/
CTEST(king, white_angle)
{
    char board[8][8] = {{'K', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'}};
    // struct step_white figure = {"1", 'k', "a8", "b7", '-', ' '};

    ASSERT_EQUAL(1, KingTest(board, 0, 0, 1, 1, 0, 1));
}

CTEST(king, white_edge)
{
    char board[8][8] = {{'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'K', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'}};
    // struct step_white figure = {"1", 'k', "a5", "b4", '-', ' '};
    ASSERT_EQUAL(1, KingTest(board, 3, 0, 4, 1, 0, 1));
}

CTEST(king, white_center)
{
    char board[8][8] = {{'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', 'K', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'}};
    // struct step_white figure = {"1", 'k', "c5", "b5", '-', ' '};
    ASSERT_EQUAL(1, KingTest(board, 3, 2, 3, 1, 0, 1));
}

CTEST(king, white_take)
{
    char board[8][8] = {{'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', 'p', '.', '.', '.'},
                        {'.', '.', '.', 'K', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'}};
    // struct step_white figure = {"1", 'k', "d5", "e6", 'x', ' '};
    ASSERT_EQUAL(1, KingTest(board, 3, 3, 2, 4, 1, 1));
}

CTEST(king, white_wrong_take)
{
    char board[8][8] = {{'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', 'P', '.', '.', '.'},
                        {'.', '.', '.', 'K', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'}};
    // struct step_white figure = {"1", 'k', "d5", "e6", 'x', ' '};
    ASSERT_EQUAL(2, KingTest(board, 3, 3, 2, 4, 1, 1));
}

CTEST(king, white_let)
{
    char board[8][8] = {{'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', 'p', '.', '.', '.'},
                        {'.', '.', '.', 'K', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'}};
    // struct step_white figure = {"1", 'k', "d5", "e6", '-', ' '};
    ASSERT_EQUAL(2, KingTest(board, 3, 3, 2, 4, 0, 1));
}

CTEST(king, white_wrong_move)
{
    char board[8][8] = {{'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', 'p', '.', '.', '.'},
                        {'.', '.', '.', 'K', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'}};
    // struct step_white figure = {"1", 'k', "d5", "f7", '-', ' '};
    ASSERT_EQUAL(0, KingTest(board, 3, 3, 1, 5, 1, 1));
}
